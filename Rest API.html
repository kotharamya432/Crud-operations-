<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Frontend CRUD with REST API</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 20px;
    }
    input, button {
      margin: 5px;
      padding: 8px;
    }
    .user {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h2>Frontend CRUD with REST API</h2>

  <!-- Create User -->
  <h3>Create User</h3>
  <input type="text" id="name" placeholder="Enter name">
  <input type="email" id="email" placeholder="Enter email">
  <button onclick="addUser()">Add User</button>

  <!-- Update User -->
  <h3>Update User</h3>
  <input type="number" id="updateId" placeholder="User ID">
  <input type="text" id="updateName" placeholder="New name">
  <input type="email" id="updateEmail" placeholder="New email">
  <button onclick="updateUser()">Update User</button>

  <!-- Delete User -->
  <h3>Delete User</h3>
  <input type="number" id="deleteId" placeholder="User ID">
  <button onclick="deleteUser()">Delete User</button>

  <h3>All Users</h3>
  <button onclick="getUsers()">Load Users</button>
  <div id="users"></div>

  <script>
    const apiUrl = "https://jsonplaceholder.typicode.com/users";

    // Read (GET)
    async function getUsers() {
      try {
        let response = await fetch(apiUrl);
        let data = await response.json();
        let usersDiv = document.getElementById("users");
        usersDiv.innerHTML = "";
        data.forEach(user => {
          let div = document.createElement("div");
          div.className = "user";
          div.innerHTML = `<b>ID:</b> ${user.id} | <b>Name:</b> ${user.name} | <b>Email:</b> ${user.email}`;
          usersDiv.appendChild(div);
        });
      } catch (error) {
        console.error("Error fetching users:", error);
      }
    }

    // Create (POST)
    async function addUser() {
      let name = document.getElementById("name").value;
      let email = document.getElementById("email").value;

      try {
        let response = await fetch(apiUrl, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, email })
        });
        let data = await response.json();
        alert("User added: " + JSON.stringify(data));
        getUsers();
      } catch (error) {
        console.error("Error adding user:", error);
      }
    }

    // Update (PUT)
    async function updateUser() {
      let id = document.getElementById("updateId").value;
      let name = document.getElementById("updateName").value;
      let email = document.getElementById("updateEmail").value;

      try {
        let response = await fetch(`${apiUrl}/${id}`, {
          method: "PUT",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, email })
        });
        let data = await response.json();
        alert("User updated: " + JSON.stringify(data));
        getUsers();
      } catch (error) {
        console.error("Error updating user:", error);
      }
    }

    // Delete (DELETE)
    async function deleteUser() {
      let id = document.getElementById("deleteId").value;

      try {
        let response = await fetch(`${apiUrl}/${id}`, { method: "DELETE" });
        if (response.status === 200) {
          alert("User deleted successfully");
        }
        getUsers();
      } catch (error) {
        console.error("Error deleting user:", error);
      }
    }
  </script>
</body>
</html>
